import{r as o,o as m,j as t,h as x,q as n}from"./.pnpm-dac787a2.js";import{P as v}from"./index-1020837e.js";import{a as w}from"./alarm-f3c92d63.js";function L(s){var i;const[f,c]=o.useState({}),[h,p]=o.useState({}),{data:r,runAsync:d}=m(l=>(console.log("params",l),w(l)),{manual:!0});return o.useEffect(()=>{d({DateParm:s.date}).then(({resultData:l})=>{const{warnListByType:u,warnListBylevel:y}=l,a={type:[],level:[]};u.map(e=>{a.type.push({value:e.warnRate,name:`${e.errortype}        ${e.warnRate.toFixed(2)*100}% | ${e.warnCount}`})}),y.map(e=>{a.level.push({value:e.warnRate,name:`${e.errorLevel}        ${e.warnRate.toFixed(2)*100}% | ${e.warnCount}`})}),c({title:{text:"日告警类型比例",left:"left",textStyle:{color:"white"}},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",top:"35%",textStyle:{color:"white"}},series:[{type:"pie",radius:["52%","92%"],center:["85%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:3,borderColor:"#1a1c25",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:a.type}]}),p({title:{text:"日告警等级比例",left:"left",textStyle:{color:"white"}},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",top:"35%",textStyle:{color:"white"}},series:[{type:"pie",radius:["52%","92%"],center:["85%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:3,borderColor:"#1a1c25",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:a.level}]})})},[s.date]),t(v,{title:"日告警数",right:((i=r==null?void 0:r.resultData)==null?void 0:i.warnCount)??0,children:x("div",{className:"w-full flex flex-col",style:{height:"300px"},children:[t("div",{className:"flex-1 flex  border-b-color",style:{height:0},children:t("div",{className:"flex-1 self-center justify-center h-full py-3",children:t(n,{style:{height:"100%"},option:f})})}),t("div",{className:"flex-1 flex ",style:{height:0},children:t("div",{className:"flex-1 self-center justify-center h-full py-3",children:t(n,{style:{height:"100%"},option:h})})})]})})}export{L as default};
